<div *ngIf="!dataCoTrade||dataCoTrade.length==0" class="error-text">Please Enter Countries of Origin Data</div>

<button (click)="editCo()" mat-raised-button type="button" color="primary" style="margin-bottom:10px;"
aria-label="Add/Edit CO" accesskey="E">Add/Edit CO</button>

<div class="title" style="margin-bottom:10px;">As Reported by Partner</div>

<div name="coRecordsTradeDiv" id="coRecordsTradeDiv" style="width:70%">
  <table mat-table title="coRecordsTradeRecords" id="coRecordsTradeTable" [dataSource]="dataSourceCoTrade" name="coRecordsTradeTable" class="row mat-elevation-z0"
  matSort matSortActive="percentage_of_import" matSortDirection="desc" [matSortDisableClear]="true">

    <ng-container matColumnDef="percentage_of_import">
      <th mat-header-cell mat-sort-header *matHeaderCellDef scope="col">% Imports</th>
      <td mat-cell *matCellDef="let row">{{row.percentage_of_import}}</td>
    </ng-container>

    <ng-container matColumnDef="country_id">
      <th mat-header-cell *matHeaderCellDef scope="col">Country of Origin</th>
      <td mat-cell *matCellDef="let row">{{referenceService.getCountryName(row.country_id)}}</td>
    </ng-container>

    <ng-container matColumnDef="state_id">
      <th mat-header-cell *matHeaderCellDef scope="col">State of Origin</th>
      <td mat-cell *matCellDef="let row">{{referenceService.getStateName(row.state_id)}}</td>
    </ng-container>

    <ng-container matColumnDef="city_id">
      <th mat-header-cell *matHeaderCellDef scope="col">City of Origin</th>
      <td mat-cell *matCellDef="let row">{{referenceService.getCityName(row.city_id)}}</td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumnsCoTrade" name="coRecordsTradeTableHeader"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumnsCoTrade"></tr>
  </table>
</div>
<hr>
<div class="title" style="margin-top:10px; margin-bottom:10px;">Internal - Recommended Top 5 Countries</div>

<button (click)="addCoInternal(ctpatAccountId)" mat-raised-button type="button" color="primary" style="margin-bottom:10px;"
aria-label="Add New Country of Origin Record" accesskey="N" [disabled]="this.dataCoInternal.length>4">Add New</button>

<div name="coRecordsInternalDiv" id="coRecordsInternalDiv" style="width:90%">
  <table mat-table title="coRecordsInternalRecords" id="coRecordsInternalTable" [dataSource]="dataSourceCoInternal" name="coRecordsInternalTable" class="row mat-elevation-z0"
  matSort matSortActive="percentage_of_import" matSortDirection="desc" [matSortDisableClear]="true">

    <ng-container matColumnDef="percentage_of_import">
      <th mat-header-cell *matHeaderCellDef scope="col">% Imports</th>
      <td mat-cell *matCellDef="let row">{{row.percentage_of_import}}</td>
    </ng-container>

    <ng-container matColumnDef="country_id">
      <th mat-header-cell *matHeaderCellDef scope="col">Country of Origin</th>
      <td mat-cell *matCellDef="let row">{{referenceService.getCountryName(row.country_id)}}</td>
    </ng-container>

    <ng-container matColumnDef="state_id">
      <th mat-header-cell *matHeaderCellDef scope="col">State of Origin</th>
      <td mat-cell *matCellDef="let row">{{referenceService.getStateName(row.state_id)}}</td>
    </ng-container>

    <ng-container matColumnDef="city_id">
      <th mat-header-cell *matHeaderCellDef scope="col">City of Origin</th>
      <td mat-cell *matCellDef="let row">{{referenceService.getCityName(row.city_id)}}</td>
    </ng-container>

    <ng-container matColumnDef="preferred_rank">
      <th mat-header-cell *matHeaderCellDef scope="col">Suggested Country</th>
      <td mat-cell *matCellDef="let row">{{row.preferred_rank=="1"?'Y':'N'}}</td>
    </ng-container>

    <ng-container matColumnDef="id">
      <th mat-header-cell *matHeaderCellDef scope="col" style="text-align:center">Action</th>
      <td mat-cell *matCellDef="let row" style="text-align:center">
        <mat-icon (click)="confirmDeletion(row.id)">delete_forever</mat-icon>
        <mat-icon (click)="editCoInternal(row.id)">edit</mat-icon></td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumnsCoInternal" name="coRecordsInternalTableHeader"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumnsCoInternal"></tr>
  </table>
</div>

<div class="title" style="margin-top:10px; margin-bottom:10px;">Previous Visits</div>

<div name="previousVisitsDiv" id="previousVisitsDiv" style="width:80%">
  <table mat-table title="previousVisitsRecords" id="previousVisitsTable" [dataSource]="dataSourcePreviousVisits" name="previousVisitsTable" class="row mat-elevation-z0">

    <ng-container matColumnDef="countryVisited">
      <th mat-header-cell *matHeaderCellDef scope="col">Country Visited</th>
      <td mat-cell *matCellDef="let row">{{row.countryVisited}}</td>
    </ng-container>

    <ng-container matColumnDef="visitDate">
      <th mat-header-cell *matHeaderCellDef scope="col">Visit Date</th>
      <td mat-cell *matCellDef="let row">{{row.visitDate}}</td>
    </ng-container>

    <ng-container matColumnDef="companyName">
      <th mat-header-cell *matHeaderCellDef scope="col">Company Name</th>
      <td mat-cell *matCellDef="let row">{{row.companyName}}</td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumnsPreviousVisits" name="previousVisitsTableHeader"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumnsPreviousVisits"></tr>
  </table>
</div>
