<br>
<mat-expansion-panel class="ctpat-panel" [expanded]="true" #matExpansionPanel>
  <mat-expansion-panel-header class="ctpat-panel-heading" collapsedHeight="30px" expandedHeight="30px">
    <mat-panel-title class="ctpat-panel-title">
      <h4 class="padHeading">Not Visiting - 09/03/2022 - Not Submitted (for Validation ID {{validationId}})
      </h4>
    </mat-panel-title>
  </mat-expansion-panel-header>

  <div fxLayout="row" style="margin-top:5px; margin-bottom:5px;">
    <div fxFlex></div>
    <div fxFlex="1"></div>
    <button mat-raised-button type="submit" color="primary" accesskey="S" (click)="submitToSupervisor()"
    aria-label="Submit to Supervisor">Submit to Supervisor</button>
    <div fxFlex="1"></div>
    <button mat-raised-button type="submit" color="primary" accesskey="D" (click)="deleteValidation()"
    aria-label="Delete Validation">Delete Validation</button>
  </div><hr>

  <mat-accordion multi>

    <mat-expansion-panel class="mat-elevation-z0" #panelB expanded>
      <mat-expansion-panel-header>
        <mat-panel-title>
          <mat-icon *ngIf=!panelB.expanded>chevron_right</mat-icon>
          <mat-icon *ngIf=panelB.expanded>expand_more</mat-icon>
          Summary
        </mat-panel-title>
      </mat-expansion-panel-header>

      <div>
        <div class="item">
          <span class="itemHeader">Validation Type</span>
          <span>Not Visiting</span>
        </div>
        <div class="item">
          <span class="itemHeader">Validation Status</span>
          <span>This No-Go request has been rejected by Supervisor.
            This report recommends the trade partner status: Certified.
          </span>
        </div>
      </div>

    </mat-expansion-panel><hr>

    <mat-expansion-panel class="mat-elevation-z0" #panelC expanded>
      <mat-expansion-panel-header>
        <mat-panel-title>
          <mat-icon *ngIf=!panelC.expanded>chevron_right</mat-icon>
          <mat-icon *ngIf=panelC.expanded>expand_more</mat-icon>
          Site List
        </mat-panel-title>
      </mat-expansion-panel-header>

      <div fxLayout="row" style="margin-bottom:5px;">
        <button mat-raised-button type="submit" color="primary" accesskey="E"
        aria-label="Edit" (click)="edit()"> Edit </button>
        <div fxFlex="1"></div>
      </div>

      <div name="visitsDiv" id="visitsDiv">
        <table mat-table title="Visit" id="newSiteTable" [dataSource]="dataSourceVisits" name="newSiteTable" class="row mat-elevation-z0">

          <ng-container matColumnDef="noGoZoneIndicator">
            <th mat-header-cell *matHeaderCellDef scope="col">No-Go Zone</th>
            <td mat-cell *matCellDef="let row" style="text-align: center !important;">
              <mat-icon *ngIf="row.noGoZoneIndicator">check</mat-icon>
            </td>
          </ng-container>

          <ng-container matColumnDef="noGoReason">
            <th mat-header-cell *matHeaderCellDef scope="col">No-Go Reason</th>
            <td mat-cell *matCellDef="let row">{{row.noGoReason}}</td>
          </ng-container>

          <ng-container matColumnDef="otherReason">
            <th mat-header-cell *matHeaderCellDef scope="col">Other Reason</th>
            <td mat-cell *matCellDef="let row">{{row.otherReason}}</td>
          </ng-container>

          <ng-container matColumnDef="address">
            <th mat-header-cell *matHeaderCellDef scope="col">Address</th>
            <td mat-cell *matCellDef="let row">
              {{row.address.street}}<br>
              {{row.address.city}}, {{row.address.state}} {{row.address.postalCode}},
              {{row.address.country}}
            </td>
          </ng-container>

          <ng-container matColumnDef="gpsCoordinates">
            <th mat-header-cell *matHeaderCellDef scope="col">GPS Coordinates</th>
            <td mat-cell *matCellDef="let row">{{row.gpsCoordinates}}</td>
          </ng-container>

          <ng-container matColumnDef="percentageImports">
            <th mat-header-cell *matHeaderCellDef scope="col">% Imports</th>
            <td mat-cell *matCellDef="let row">{{row.percentageImports}}</td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumnsVisits" name="newSiteTableHeader"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumnsVisits"></tr>
        </table>
      </div>

    </mat-expansion-panel><hr>

  </mat-accordion>
</mat-expansion-panel>
